(()=>{function r(n){try{n&&URL.revokeObjectURL(n)}catch(t){console.warn("revokeObjectURL failed",t)}}function u(n,t,i,u,f){const h=new Blob([t],{type:n});let o=URL.createObjectURL(h);i&&(o=o+i);const e=window.open(o,u||"_blank",f||""),s=()=>{r(o);try{clearInterval(c)}catch{}try{e&&e.removeEventListener("beforeunload",s)}catch{}};try{e&&e.addEventListener("beforeunload",s)}catch(l){}const c=setInterval(()=>{(!e||e.closed)&&s()},500);return e}const n=new Map,i=new Map,t=new Map;const f={setTheme(n){try{document.querySelector("body")?.setAttribute("data-bs-theme",n)}catch(t){console.warn(t)}},getUserAgent(){return navigator.userAgent},openContentWindow(n,t,i,r,f){return u(n,t,i,r,f)},createObjectURL(n,t){try{const i=new Blob([t],{type:n});return URL.createObjectURL(i)}catch(i){return console.warn("createObjectURL failed",i),null}},revokeObjectURL(n){r(n)},saveAsBinary(n,t,i){try{const e=new File([i],n,{type:t}),f=URL.createObjectURL(e),u=document.createElement("a");u.style.display="none";u.href=f;u.download=n;document.body.appendChild(u);u.click();document.body.removeChild(u);setTimeout(()=>r(f),1e3)}catch(u){console.error("saveAsBinary failed",u)}},saveAsFile(n,t){try{const i=document.createElement("a");i.download=n;i.href=t;i.style.display="none";document.body.appendChild(i);i.click();document.body.removeChild(i)}catch(i){console.error("saveAsFile failed",i)}},addResizeObserver(t,i,r){if(!t)return null;if(r&&n.has(r)){const t=n.get(r);try{t.disconnect()}catch{}n.delete(r)}const u=new ResizeObserver(n=>{const t=n[0],r={contentRect:t.contentRect};try{i.invokeMethodAsync("ElementResized",r)}catch(u){console.warn(u)}});return u.observe(t),r&&n.set(r,u),!0},removeResizeObserver(t){if(t)if(typeof t=="string"){const i=n.get(t);if(i){try{i.disconnect()}catch{}n.delete(t)}}else if(t instanceof Element)for(const[r,i]of n.entries())try{i.unobserve(t);i.disconnect();n.delete(r)}catch(u){}},preventDefaultKey(n,i,r,u){if(n&&i&&Array.isArray(r)){if(u&&t.has(u)){const r=t.get(u);try{n.removeEventListener(i,r)}catch{}t.delete(u)}const f=n=>{try{r.includes(n.key)&&n.preventDefault()}catch(t){}};n.addEventListener(i,f);u&&t.set(u,f)}},removePreventDefaultKey(n,i,r){if(n){const u=t.get(n);if(u&&i&&r)try{i.removeEventListener(r,u)}catch{}t.delete(n)}},focusFirstInTableRow(n){if(n&&n.cells&&n.cells.length!==0){const t=n.cells[0];t&&this.navigateTable(t,"")}},navigateTable(n,t){if(n){const u=n.closest("tr");if(u){const o=u.parentNode,s=o&&o.rows?o.rows:u.closest("table")?.rows||[];if(s&&s.length!==0){let r=u.rowIndex;t==="ArrowUp"?r=r-1:t==="ArrowDown"&&(r=r+1);const h=s[r];if(h){let i=n.cellIndex;t==="ArrowLeft"?i=i-1:t==="ArrowRight"?i=i+1:t===""&&(i=0);i<0&&(i=0);const f=h.cells[i];if(f){const e=Array.from(f.getElementsByTagName("*")).find(n=>n.tabIndex>=0&&!n.disabled);if(e)try{e.focus();typeof e.select=="function"&&e.select()}catch(c){}else f!==n&&this.navigateTable(f,t)}}}}}},scrollToFragment(n){try{const t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth"})}catch(t){}},showPrompt(n,t){return prompt(n,t)},showAlert(n){return alert(n),!0},windowOpen(n,t,i,r){const u=window.open(n,t,i,r);return u?"":null},redirect(n){return window.location.href=n,""},async copyToClipboard(n){try{return await navigator.clipboard.writeText(n),!0}catch(t){return console.warn("copyToClipboard failed",t),!1}},readFromClipboard(){try{return navigator.clipboard.readText()}catch(n){return Promise.reject(n)}},disableDraggable(n,t){if(n&&t){const i=t=>{t.stopPropagation(),n.draggable=!1},r=()=>{n.draggable=!0},u=()=>{n.draggable=!0};return t.addEventListener("mousedown",i),t.addEventListener("mouseup",r),t.addEventListener("mouseleave",u),()=>{try{t.removeEventListener("mousedown",i);t.removeEventListener("mouseup",r);t.removeEventListener("mouseleave",u)}catch(n){}}}},setPropByElement(n,t,i){try{n&&(n[t]=i)}catch(r){}return""},clickOutsideHandler:{removeEvent(n){if(n&&i.has(n)){const t=i.get(n);try{window.removeEventListener("click",t,!0)}catch(r){}i.delete(n)}},addEvent(n,t,r){if(this.removeEvent(n),n&&r){let u=Date.now();const f=i=>{const e=Date.now(),o=Math.abs((e-u)/1e3);if(!(o<.5)){u=e;const f=document.getElementById(n);if(i&&f)try{i.target.isConnected!==!0||i.target===f||f.contains(i.target)||(t&&this.removeEvent(n),r.invokeMethodAsync("InvokeClickOutside").catch(n=>console.warn(n)))}catch(s){}}};i.set(n,f);window.addEventListener("click",f,!0)}}}};window.DesproBlazor=f})();